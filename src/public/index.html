<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kaardirakendus</title>
    <style id="dynamic-styles"></style>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-minimap/3.6.1/Control.MiniMap.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-minimap/3.6.1/Control.MiniMap.min.js"></script>

    <!-- MarkerCluster -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.Default.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/leaflet.markercluster.js"></script>

    <!-- search -->
    <link href="styles/animatedSearchBox.css" rel="stylesheet" />
    <script src="src/animatedSearchBox.js"></script>

    <!-- images -->
    <link rel="icon" type="image/png" href="img/search_icon.png" />

    <!-- styles -->
    <link rel="stylesheet" href="styles/styles.css" />
  </head>

  <body>
    <div style="
      position: absolute;
      top: 110px;
      right: 0px;
      z-index: 1000;
      display: grid;
      justify-content: center;
      align-items: center;
      padding: 10px;">
      <select id="categoryDropdown" class="dropdown" style="
        margin-top: 10px;
        padding: 2px;
        border: 2px solid #189318;
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.5);
        color: black;
        font-size: 1em;
        cursor: pointer;
        transition: background-color 0.3s ease;
        margin-bottom: 10px;">
        <option value="">Vali kategooria</option>
      </select>

      <select id="subcategoryDropdown" disabled style="
        margin-top: 10px;
        padding: 2px;
        border: 2px solid #189318;
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.5);
        color: black;
        font-size: 1em;
        cursor: pointer;
        transition: background-color 0.3s ease;
        margin-bottom: 10px;">
        <option value="">Vali alamkategooria</option>
      </select>

      <label for="dobStart"></label>
      <input type="text" id="dobStart" placeholder="Sünniaastavahemiku algus (YYYY)" maxlength="4" style="
        margin-top: 10px;
        padding: 2px;
        width: 220px;
        border: 2px solid #189318;
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.5);
        color: black;
        font-size: 1em;
        cursor: pointer;
        transition: background-color 0.3s ease;
        margin-bottom: 10px;"/>

      <label for="dobEnd"></label>
      <input type="text" id="dobEnd" placeholder="Sünniaastavahemiku lõpp (YYYY)" maxlength="4" style="
        margin-top: 10px;
        padding: 2px;
        width: 220px;
        border: 2px solid #189318;
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.5);
        color: black;
        font-size: 1em;
        cursor: pointer;
        transition: background-color 0.3s ease;
        margin-bottom: 10px;"/>

      <button class="custom-button" id="applyFiltersButton">Rakenda filtrid</button>
    </div>

    <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
      <symbol id="icon-arrow-left" viewBox="0 0 24 24">
        <path d="M15.422 16.594 14.016 18l-6-6 6-6 1.406 1.406L10.828 12z" />
      </symbol>
      <symbol id="icon-clear" viewBox="0 0 24 24">
        <path
          d="M18.984 6.422 13.406 12l5.578 5.578-1.406 1.406L12 13.406l-5.578 5.578-1.406-1.406L10.594 12 5.016 6.422l1.406-1.406L12 10.594l5.578-5.578z"
        />
      </symbol>
      <symbol id="icon-email" viewBox="0 0 24 24">
        <path
          d="M20.016 8.016V6L12 11.016 3.984 6v2.016L12 12.985zm0-4.032q.797 0 1.383.609t.586 1.406v12q0 .797-.586 1.406t-1.383.609H3.985q-.797 0-1.383-.609t-.586-1.406v-12q0-.797.586-1.406t1.383-.609h16.031z"
        />
      </symbol>
      <symbol id="icon-menu" viewBox="0 0 24 24">
        <path
          d="M3 13h18a1 1 0 0 0 0-2H3a1 1 0 0 0 0 2zm0-6h18a1 1 0 0 0 0-2H3a1 1 0 0 0 0 2zm0 12h18a1 1 0 0 0 0-2H3a1 1 0 0 0 0 2z"
        />
      </symbol>
      <symbol id="icon-person" viewBox="0 0 24 24">
        <path
          d="M12 14.016q2.531 0 5.273 1.102t2.742 2.883v2.016H3.984v-2.016q0-1.781 2.742-2.883t5.273-1.102zM12 12q-1.641 0-2.813-1.172T8.015 8.015t1.172-2.836T12 3.984t2.813 1.195 1.172 2.836-1.172 2.813T12 12z"
        />
      </symbol>

      <!--  <symbol id="icon-search" viewBox="0 0 24 24">-->
      <!--    <path d="M17.9 16.3l3.5 3.5-1.4 1.4-3.5-3.5c-1.4.9-3 1.4-4.7 1.4C4.5 20 0 15.5 0 10S4.5 0 10 0s10 4.5 10 10c0 1.8-.5 3.4-1.4 4.7zM10 2C5.6 2 2 5.6 2 10s3.6 8 8 8 8-3.6 8-8c0-4.4-3.6-8-8-8z" />-->
      <!--  </symbol>-->
    </svg>
    <div class="sidebar">
      <button aria-label="close sidebar" type="button" class="close-button">
        <svg>
          <use xlink:href="#icon-clear" />
        </svg>
      </button>

      <ul class="sidebar-menu">
        <li class="menu-item" data-item="menu">
          <svg><use xlink:href="#icon-menu"></use></svg>
        </li>
        <li class="menu-item" data-item="person">
          <svg><use xlink:href="#icon-person"></use></svg>
        </li>
        <li class="menu-item" data-item="email">
          <svg><use xlink:href="#icon-email"></use></svg>
        </li>
        <!--    <li class="menu-item" data-item="search">-->
        <!--      <svg><use xlink:href="#icon-search"></use></svg>-->
        <!--    </li>-->
      </ul>

      <div class="sidebar-content">
        <div class="item-content" id="menu">
          <h2>Natuke meist</h2>
          <div class="content">
            Projekt kaardistab Eesti avaliku elu tegelaste sünnikohad ja tutvustava teabe interaktiivsel kaardil,
            tuginedes biograafilistele teatmeteostele nagu "Eesti avalikud tegelased" (1932) ja "Eesti biograafiline
            leksikon" (1926–1940). Eesmärk on laiendada teadmisi Eesti ajaloost ja kultuurist ning pakkuda koolidele
            õppematerjali. Uus rakendus on vabavaraline ja see integreeritakse Eesti Rahvakultuuri Keskuse veebilehele.
            Interaktiivne kaart peegeldab sünnikohti ja isikute tegevusalasid, pakkudes põhjalikku ja ajakohastatud
            ülevaadet Eesti avaliku elu tegelastest.
          </div>
        </div>
        <div class="item-content" id="person">
          <h2>Admini sisselogimine</h2>
          <div class="content">
            <a href="http://localhost:8080/login">
              <button class="custom-button" type="button">Admin</button>
            </a>
          </div>
        </div>
        <div class="item-content" id="email">
          <h2>Anna tagasisidet!</h2>
          <form
            id="emailForm"
            action="http://localhost:8080/api/v1/email/sendEmail"
            method="post"
          >
            Nimi:<input type="text" name="name" id="name" /><br />
            Jäta oma kommentaar siia:<br />
            <textarea name="subject" id="subject" rows="4"></textarea><br />
            <input type="submit" value="Saada" />
          </form>
        </div>

        <script>
          function openAPIWindow() {
            // Make API request to retrieve person data
            let apiURL = "http://localhost:8080/api/v1/marker/getMarkers";
            let newWindow = window.open(apiURL, "_blank");
            newWindow.focus();
          }
        </script>
      </div>
    </div>

    <div id="map"></div>
    <script type="module" src="src/script.js"></script>
    <!--    <script src="./dist/bundle.js" defer></script>-->

    <div class="navbar-container"></div>
  </body>
</html>
